<md-dialog aria-label="METHOD" id="add-edit-directory-knowledge-dialog">
    <form id="addEditDir" name="addEditDir" >
        <md-toolbar class="title">
            <span ng-if="!vm.edit" translate="KNOWLEDGE.ADD_DIR" class="font-size-16"></span>
            <span ng-if="vm.edit" translate="KNOWLEDGE.EDIT_DIR" class="font-size-16"></span>
        </md-toolbar>

        <md-dialog-content ms-scroll>
            <div layout="row">
                <div class="form-wrapper min-400">
                    <div layout="row" >
                        <div class="alert-error" ng-if="vm.msg_error">{{ vm.msg_error }}</div>
                        <div class="alert-success" ng-if="vm.msg_success">{{ vm.msg_success }}</div>
                    </div>
                    <div layout="row" >
                        <md-input-container class="md-block" flex>
                            <label><span class="directory-name" translate="OTHER.NAME"></span></label>
                            <input name="name" ng-model="vm.form.name" class="directory-name" md-maxlength="255" required>
                            <div ng-messages="vm.form.name.$error" role="alert">
                                <div ng-message="required" ><span translate="ERRORS.FORM.REQUIRE"></span></div>
                                <div ng-message="md-maxlength" ><span translate="ERRORS.FORM.MAX_255"></span></div>
                            </div>
                        </md-input-container>
                    </div>
                    <div layout="row">
                        <md-input-container class="md-block" flex>
                            <label><span translate="KNOWLEDGE.USERS"></span></label>
                            <md-contact-chips
                                    ng-model="vm.form_users"
                                    md-contacts="vm.searchUser($query)"
                                    md-contact-name="name"
                                    md-contact-image="avatar"
                                    md-contact-email="email"
                                    placeholder="{{ 'KNOWLEDGE.USERS_SEARCH' | translate }}"
                                    secondary-placeholder="{{ 'KNOWLEDGE.ADD_MORE' | translate }}"
                            >
                            </md-contact-chips>
                        </md-input-container>
                    </div>
                    <div layout="row" >
                        <md-input-container class="md-block" flex>
                            <label><span translate="KNOWLEDGE.GROUPS"></span></label>
                            <md-select ng-model="vm.form.roles" name="roles" multiple>
                                <md-option ng-value="role.id" ng-repeat="role in vm.roles" ><span translate="ROLES.{{role.name}}"></span></md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>
            </div>
        </md-dialog-content>

        <md-dialog-actions layout="row" layout-align="end center">
            <md-button ng-if="!vm.edit" type="button" class="md-raised md-accent" aria-label="CANCEL"
                translate="OTHER.CANCEL" ng-click="vm.hide()"
                translate-attr-aria-label="OTHER.CANCEL">
            </md-button>
            <md-button type="button" class="md-raised md-accent" aria-label="SEND"
                ng-disabled="vm.request_sending || addEditDir.$invalid || addEditDir.$pristine"
                translate="OTHER.SAVE" ng-click="vm.send()"
                translate-attr-aria-label="OTHER.SAVE">
            </md-button>  
        </md-dialog-actions>

    </form>
</md-dialog>
